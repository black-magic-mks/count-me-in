<div class="upload">
  <div ng-show="!loadingPost">
    <h3>add a post</h3>

    <div>
      <form name="addPostForm" class="addPostForm" id="addPostForm" novalidate>

          <select name="pledgename" ng-model="post.pledgename" ng-options="pledgename for pledgename in pledgenames" required>
          </select>

<<<<<<< HEAD
          <a class="pledge-button" ui-sref="tab.post.pledge.add">Add Pledge</a>
=======
          <br />

          <a class="pledge-button" ui-sref="user.pledge.add">+pledge</a>

>>>>>>> dev
          <br />

          <input name="title" type="text" ng-model="post.title" placeholder="Post title..." required />
          
          <span ng-if="addPostForm.title.$dirty">
            <span class="validation-error" ng-show="addPostForm.title.$error.required">Must include a title for your post</span>
          </span>

          <br />

          <textarea name="text" ng-model="post.text" placeholder="Describe what you did..."></textarea>
          
          <br />

          <label class="post-upload">
            <input type="file" class="post-file" id="user-post-add" name="file" ng-model="post.file" valid-file on-file-change="fileChanged"></input>
            <i class="fa fa-camera fa-2x"></i>
          </label>

          <span ng-if="!(fileName)">
            Upload an image
          </span>
          <span ng-if="!!(fileName)">
            {{ fileName }}
          </span>

          <br />

          <button class="btn" ng-click="cancelPost()">cancel</button>
          <button class="btn" ng-disabled="addPostForm.$invalid || !(fileName)" ng-click="addPost()">submit</button>

        </form>

    </div>
  </div>
  <div class="loading" ng-show="loadingPost">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
    <div>loading...</div>
  </div>
</div>
